<html><head><link rel="import" href="../../bower_components/polymer/polymer-element.html"><link rel="import" href="../../bower_components/app-route/app-route.html"><link rel="import" href="../../bower_components/app-route/app-location.html"><link rel="import" href="../../bower_components/app-layout/app-header/app-header.html"><link rel="import" href="../../bower_components/app-layout/app-toolbar/app-toolbar.html"><link rel="import" href="../../bower_components/app-layout/app-header-layout/app-header-layout.html"><link rel="import" href="../../bower_components/paper-tabs/paper-tab.html"><link rel="import" href="../../bower_components/paper-tabs/paper-tabs.html"><link rel="import" href="../../bower_components/iron-pages/iron-pages.html"><link rel="import" href="../../bower_components/polymer/lib/mixins/gesture-event-listeners.html"><link rel="import" href="../../bower_components/iron-icons/iron-icons.html"><link rel="import" href="sharedstyles.html"><link rel="import" href="my-firebaseinit.html"><link rel="import" href="my-view1.html"><link rel="import" href="my-view2.html"><link rel="import" href="my-view3.html"></head><body><dom-module id="wishkaro20-app"><template><style include="sharedstyles">:host{top:0px;}[hidden]{display:none !important;}</style><app-location route="{{route}}"></app-location><app-route route="{{route}}" pattern="/:view" data="{{data}}"></app-route><app-header reveals="" slot="header"><app-toolbar style="height: 48px;"><paper-icon-button hidden$="{{hidebackarrow}}" icon="arrow-back" on-click="backarrowtapped"></paper-icon-button><div main-title="" style="margin-left: 16px;margin-top:16px; margin-bottom:14px;">{{header}}</div></app-toolbar><template is="dom-if" if="{{!hidetabs}}"><paper-tabs id="mytabs" selected="{{data.view}}" attr-for-selected="name"><paper-tab name="view1">POPULAR</paper-tab><paper-tab name="view2">CATEGORIES</paper-tab></paper-tabs></template></app-header><myfirebase-init config="{{_config}}" status="{{firebaseinitstatus}}"></myfirebase-init><iron-pages selected="{{data.view}}" attr-for-selected="name" fallback-selection="view1"><my-view1 name="view1" dbready="{{firebasedbready}}" overlayset="{{keyhandler}}"></my-view1><my-view2 name="view2" viewconfig="{{view2config}}" dbready="{{firebasedbready}}" categoryselected="{{categoryselect}}"></my-view2><my-view3 name="view3" dbready="{{firebasedbready}}" waitonread="{{startreading}}"></my-view3></iron-pages></template><script>class Wishkaro20App extends Polymer.GestureEventListeners(Polymer.Element){static get is(){return"wishkaro20-app"}static get properties(){return{prop1:{type:String,value:"wishkaro20-app"},_observerinit:{type:Object,value:"`null"},_config:{type:Object},firebaseinitstatus:{type:String,value:"None",observer:"firaebaseInitStatus"},firebasedbready:{type:Boolean,value:!1,notify:!0},tabselect:{type:String,value:"0"},categoryselect:{type:Object,value:"null",observer:"categorySelected"},data:{type:Object,reflectToAttribute:!0,observer:"_pageChanged",value:"view1",notify:!0},header:{type:String,value:"Wish Karo"},hidebackarrow:{type:Boolean,value:!0},hidetabs:{type:Boolean,value:!1},keyhandler:{type:String,notify:!0,observer:"_keyHandlerUpdated"},_viewlayout:{type:Object},_pagelayout:{type:Object},view2config:{type:Object,value:{collection:"category",sequence:"sequence",limit:30}},startreading:{type:Object,notify:!0}}}_keyHandlerUpdated(){console.log("Key handler updated"+this.keyhandler);if("Ignored"===this.keyhandler){if("view2"!=this.data.view&&"view1"!=this.data.view){console.log("Move to view 2");this.set("data.view","view2")}else if("view2"===this.data.view){console.log("Move to view 1");this.set("data.view","view1")}else{console.log("Exit the app");window.Android.exitApp()}}}categorySelected(){if("ready"===this._observerinit.categoryselect){console.log("category selected "+this.categoryselect.title);console.log("category collection "+this.categoryselect.collection);this.header=this.categoryselect.title;this.startreading.collection=this.categoryselect.collection;this.notifyPath("startreading.collection");this.set("data.view","view3")}else this._observerinit.categoryselect="ready"}constructor(){Polymer.setPassiveTouchGestures(!0);super();this._observerinit={firaebaseInitStatus:"none",categoryselect:"none",_pagechanged:"none"};this.startreading={state:!1,collection:""};this._viewlayout={Popular:{view:"view1",header:"WISH KARO",tabs:!0,backarrow:!1},Category:{view:"view2",header:"WISH KARO",view:"view2",tabs:!0,backarrow:!1},morning:{view:"view3",header:"Good Morning",tabs:!1,backarrow:!0},night:{view:"view3",header:"Good Night",tabs:!1,backarrow:!0},inspiration:{view:"view3",header:"Inspirational Quotes",tabs:!1,backarrow:!0},birthday:{view:"view3",header:"Happy Birthday",tabs:!1,backarrow:!0}};this._pagelayout={view1:"Popular",view2:"Category",view3:"morning",view4:"night",view5:"inspiration",view6:"birthday"}}ready(){super.ready();this._config={apiKey:"AIzaSyCZA25rLvj5sFwmn_gcE7pHZU1ABPZB3zc",authDomain:"wishkaro-94738.firebaseapp.com",databaseURL:"https://wishkaro-94738.firebaseio.com",projectId:"wishkaro-94738",storageBucket:"wishkaro-94738.appspot.com",messagingSenderId:"710301933949"}}firaebaseInitStatus(){if("ready"===this._observerinit.firaebaseInitStatus){console.log("Firebase Init"+this.firebaseinitstatus);this.firebasedbready=!0}else this._observerinit.firaebaseInitStatus="ready"}_pageChanged(){if("ready"===this._observerinit._pagechanged){if("view3"===this.data.view){this.hidetabs=!0;this.hidebackarrow=!1}}this._observerinit._pagechanged="ready"}_backkeyPressed(){console.log("Back key pressed by the user check wher yu are and decide");this.keyhandler="Key Press"}backarrowtapped(){console.log("Back arrow tapped ");this.hidebackarrow=!0;this.hidetabs=!1;this.header="Wish Karo";this.set("data.view","view2")}}window.customElements.define(Wishkaro20App.is,Wishkaro20App);</script></dom-module></body></html>
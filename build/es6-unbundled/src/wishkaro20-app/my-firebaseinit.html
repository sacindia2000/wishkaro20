<html><head><link rel="import" href="../../bower_components/polymer/polymer-element.html"><script src="https://www.gstatic.com/firebasejs/5.0.1/firebase-app.js"></script><script src="https://www.gstatic.com/firebasejs/5.0.1/firebase-firestore.js"></script><script src="wishkaro20global.js"></script></head><body><dom-module id="myfirebase-init"><template></template><script>class MyFirebaseInit extends Polymer.Element{static get is(){return"myfirebase-init"}static get properties(){return{prop1:{type:String,value:"firebase-init"},_observerinit:{type:Object,value:"`null"},config:{type:Object,value:"null",observer:"_setFirebaseConfig"},status:{type:String,value:"none",notify:!0}}}constructor(){super();this._observerinit={_setFirebaseConfig:"none"}}ready(){super.ready()}_setFirebaseConfig(){if("ready"===this._observerinit._setFirebaseConfig){console.log("_setFirebaseConfig"+this.config);if("InitSuccess"!=this.status&&"null"!=this.config&&"undefined"!=typeof this.status){myglobal.firebasehandle=firebase.initializeApp(this.config);this._initPersistance();this.status="InitSuccess"}else this.status="InitFail"}else this._observerinit._setFirebaseConfig="ready"}_initPersistance(){firebase.firestore().enablePersistence().then(function(){console.log("Persistance enabled")}).catch(function(err){if("failed-precondition"==err.code){console.log("Persistance failed-precondition")}else if("unimplemented"==err.code){console.log("persistance unimplemented")}})}}window.customElements.define(MyFirebaseInit.is,MyFirebaseInit);</script></dom-module></body></html>